{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/unit-testing-imposed-with-a-code-coverage-target-omg-part-1","result":{"data":{"markdownRemark":{"excerpt":"In of the previous company that I work we had a change in top level management all of a sudden. This new management asked us to implementâ€¦","html":"<p>In of the previous company that I work we had a change in top level management all of a sudden. This new management asked us to implement unit tests.</p>\n<p>The last time I had implemented unit tests was 2 yrs ago. It was implemented for a ASP.NET MVC project whose service was hosted on Azure Service Fabric.</p>\n<p>Basically it was implemented only to test the filteration logic based on the parameter recieved.</p>\n<p>However, the current project was on Winforms and most of the code was in UI. We weren't sure how to implement unit test cases. The most interesting this was we had to give a unit test case coverage of 50%. 50% was kept because unit tests were implemented for the first time.</p>\n<p>The project that I worked on was based on plugin architecture. What our application (or plugin) did was it called third party services related to property search and we had display the results on the UI. We used to charge the vendor for each transactions.</p>\n<p>But our project was built on top of a framework. This framework was used to access data from  parent application (remember this was a plugin).</p>\n<p>Now we started implementing the unit tests and found out it was highly impossible to mock some dependency. One reason was that the framework that we used to create the plugin was very old and was not supporting certain behaviours that we needed for unit testing.</p>\n<p>An interesting event happened a few month when this unit test coverage target was imposed. We had people leaving the company after 3-4 months. And the ones that were going were so pissed off. One resignation email literally stated</p>\n<p>I am not able to spend enough time with my family and husband. Hence I would like to resign.</p>\n<p>Was the management wrong in asking to write unit tests? Was imposing 50% of unit test coverage the reason? Nobody was sure. I had an oppertunity to speak to few of my fellow drop out friends. They were very happy that they were leaving. Here are some of the problems that were related to pains that incurred while implementing unit test</p>\n<h3 id=\"Unit-testing-hours-werent-adequate\" style=\"position:relative;\"><a href=\"#Unit-testing-hours-werent-adequate\" aria-label=\"Unit testing hours werent adequate permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Unit testing hours weren't adequate</h3>\n<p>Lets say you have to consume a property search service from Google and you quote 9-12 hours. Why? Previously that person had implemented a similar service and he had quoted somethng similar number. And, 4 hours of unit testing.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"><strong>Task</strong></th>\n<th align=\"center\"><strong>Estimates</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">Invoking the property search from plugin</td>\n<td align=\"center\">12 hrs</td>\n</tr>\n<tr>\n<td align=\"center\">Adding unit tests</td>\n<td align=\"center\">4 hrs</td>\n</tr>\n</tbody>\n</table>\n<p>While he started implementing it. He took more hours and to work extra hours. He said writing the code was easy by adding test case and gaining code coverage was very tough.</p>\n<p>So next time he quote 12 hrs for implementation and 8 hrs for adding unit test cases. The experienced folks did not agree saying you are quoting two thirds of development effort and it is tough to justify to stakeholders. This happened over and over again and he had to quit.</p>\n<p>To be frank even I was facing the same problem and this was my first time with an age old technology Winforms</p>\n<h3 id=\"Framework-had-some-features-that-was-not-easy-to-mock\" style=\"position:relative;\"><a href=\"#Framework-had-some-features-that-was-not-easy-to-mock\" aria-label=\"Framework had some features that was not easy to mock permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Framework had some features that was not easy to mock</h3>\n<p>Yes the framework was a little old. Because of this some features could not be mocked. Code coverage got reduced. And, no initiative was taken to correct this in the framework.</p>\n<h3 id=\"Experienced-developers-were-not-giving-any-guidelines-or-help-to-younger-ones\" style=\"position:relative;\"><a href=\"#Experienced-developers-were-not-giving-any-guidelines-or-help-to-younger-ones\" aria-label=\"Experienced developers were not giving any guidelines or help to younger ones permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Experienced developers were not giving any guidelines or help to younger ones</h3>\n<p>The folks also cribbed that experienced developers did not extend the helping hand. Either they are too tied up or they do not know how to implement it.</p>\n<p>All the the reason to an extent were true. I did feel the pain myself. For me there was an additional overhead to train the others and I was getting requests from other team.</p>\n<p>Now why is unit testing tough and how can we make life easier for our fellow developer.</p>\n<p>The answer to this lies in the next installment of this blog. Please stay tuned!!!</p>","timeToRead":3,"id":"cceeac61-4f44-5b53-b2ea-9220f787d1fe","frontmatter":{"date":"June 01, 2020","title":"Unit testing imposed with a code coverage target! Omg! (Part 1)"}}},"pageContext":{"slug":"/blog/unit-testing-imposed-with-a-code-coverage-target-omg-part-1"}},"staticQueryHashes":["1033876704","3435786681","550521386"]}